{
   "constantName": "name-coach",
   "developerSecurity": [],
   "extendsPage": null,
   "fileTimestamp": "2025-06-20T17:40:35Z",
   "modelView": {
      "components": [
         {
            "resource": "virtualDomains.namecoach_getinfo",
            "name": "getinfo",
            "type": "resource",
            "staticData": []
         },
         {
            "name": "style",
            "type": "literal",
            "value": "<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"></script>\n<script src=\"https://name-coach.com/namecoach-call-widget-v1.js\"></script>\n<style>\n   #namecoach-call-widget-phone_number{\n    display: \"none\";\n  }\n        .name-coach-section {\n            background-color: #f8f9fa;\n            border-radius: 10px;\n            padding: 30px;\n            margin: 40px 0;\n            box-shadow: 0 4px 8px rgba(0,0,0,0.05);\n        }\n        \n        .feature-box {\n            background: white;\n            border-radius: 8px;\n            padding: 20px;\n            height: 100%;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.05);\n            transition: transform 0.3s ease;\n        }\n        \n        .feature-box:hover {\n            transform: translateY(-5px);\n        }\n        \n        .feature-icon {\n            font-size: 2.5rem;\n            margin-bottom: 15px;\n            color: #0d6efd;\n        }\n        \n        .btn-record {\n            background-color: #0d6efd;\n            color: white;\n            padding: 12px 30px;\n            font-size: 1.1rem;\n            border-radius: 30px;\n            border: none;\n            transition: all 0.3s ease;\n        }\n        \n        .btn-record:hover {\n            background-color: #0b5ed7;\n            transform: scale(1.05);\n        }\n        \n        .how-it-works-step {\n            position: relative;\n            padding-left: 50px;\n            margin-bottom: 20px;\n        }\n        \n        .step-number {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 36px;\n            height: 36px;\n            background-color: #0d6efd;\n            color: white;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-weight: bold;\n        }\n/* Add these styles to your existing CSS */\n.modal-backdrop {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0,0,0,0.5);\n  z-index: 1050;\n  animation: fadeIn 0.3s;\n}\n\n.modal-dialog {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: 500px;\n  width: 90%;\n  background-color: white;\n  border-radius: 10px;\n  padding: 20px;\n  box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n  z-index: 1051;\n  animation: slideIn 0.3s;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes slideIn {\n  from { transform: translate(-50%, -60%); opacity: 0; }\n  to { transform: translate(-50%, -50%); opacity: 1; }\n}\n</style>"
         },
         {
            "components": [
               {
                  "name": "main_literal",
                  "type": "literal",
                  "value": "<div class=\"container\">\n        <div class=\"name-coach-section\">\n           <div class=\"row mb-4\">\n            <div class=\"row\">\n                <div class=\"col-md-12 text-center mb-4\">\n                    <div class=\"mb-3\">\n                        <!-- Logo Placeholder -->\n                        <img src=\"https://www.wvm.edu/_resources/images/wvm-logo.svg\" alt=\"West Valley - Mission CCD\" class=\"img-fluid\" style=\"max-height: 80px;\">\n                    </div>\n\n                    <h1>Record Your Name with Name Coach</h1>\n                    <p class=\"lead\">Help your instructors and peers pronounce your name correctly</p>\n                </div>\n            </div>\n            \n            <div class=\"row mb-5\">\n                <div class=\"col-lg-6 mb-4\">\n                    <h2>How It Works</h2>\n                    <div class=\"how-it-works-step\">\n                        <div class=\"step-number\">1</div>\n                        <h4>Click the \"Record My Name\" button</h4>\n                        <p>When you click the button below, Name Coach will call your phone number.</p>\n                    </div>\n                    <div class=\"how-it-works-step\">\n                        <div class=\"step-number\">2</div>\n                        <h4>Answer the call</h4>\n                        <p>Follow the voice prompts to record your name pronunciation.</p>\n                    </div>\n                    <div class=\"how-it-works-step\">\n                        <div class=\"step-number\">3</div>\n                        <h4>Confirmation</h4>\n                        <p>Your recording will be saved and made available to your instructors through the college learning management system.</p>\n                    </div>\n                </div>\n                <div class=\"col-lg-6\">\n                    <div class=\"card\">\n                        <div class=\"card-body text-center py-5\">\n                            <h3 class=\"mb-4\">Ready to Record Your Name?</h3>\n                            <p class=\"mb-4\">Click the button below to receive a phone call where you can record your name pronunciation.</p>\n                            <button type=\"button\" id=\"initiate-call\" class=\"btn-record\">Record My Name</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div class=\"row\">\n                <div class=\"col-md-12\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <h3>Frequently Asked Questions</h3>\n                            \n                            <div class=\"mt-4\">\n                                <h5>Will I be charged for the phone call?</h5>\n                                <p>No, the call from Name Coach is free of charge.</p>\n                            </div>\n                            \n                            <div class=\"mt-3\">\n                                <h5>Who will have access to my recording?</h5>\n                                <p>Your instructors and authorized college staff will have access to hear your name pronunciation.</p>\n                            </div>\n                            \n                            <div class=\"mt-3\">\n                                <h5>Can I re-record my name?</h5>\n                                <p>Link to instructions TBA.</p>\n                            </div>\n                            \n                            <div class=\"mt-3\">\n                                <h5>Is this required?</h5>\n                                <p>While recording your name is optional, we strongly encourage you to use this service to help your instructors and peers pronounce your name correctly.</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>"
               },
               {
                  "name": "functions",
                  "type": "literal",
                  "value": "<script>\nwindow.foo = function(firstName, lastName, email, phone){\n   var form_data = {access_code: \"EXPERIENCE\", email: email, first_name:firstName, last_name: lastName, phone_number: phone};\n  namecoach.widget.initModalForm(\"#initiate-call\", form_data,\n    function(response) {\n      console.log('The call has been successfully made');\n      console.log(response);\n    }, function(response, code) {\n      console.log('Failed to make the call');\n      console.log(response);\n      console.log(code);\n      \n      // Create and show error modal\n      showErrorModal(response, code);\n    })\n}\n\n// Function to show error modal\nfunction showErrorModal(response, errorCode) {\n  // Create modal elements\n  const modalBackdrop = document.createElement('div');\n  modalBackdrop.className = 'modal-backdrop';\n  modalBackdrop.style.position = 'fixed';\n  modalBackdrop.style.top = '0';\n  modalBackdrop.style.left = '0';\n  modalBackdrop.style.width = '100%';\n  modalBackdrop.style.height = '100%';\n  modalBackdrop.style.backgroundColor = 'rgba(0,0,0,0.5)';\n  modalBackdrop.style.zIndex = '1050';\n  \n  const modalDialog = document.createElement('div');\n  modalDialog.className = 'modal-dialog';\n  modalDialog.style.position = 'fixed';\n  modalDialog.style.top = '50%';\n  modalDialog.style.left = '50%';\n  modalDialog.style.transform = 'translate(-50%, -50%)';\n  modalDialog.style.maxWidth = '500px';\n  modalDialog.style.width = '90%';\n  modalDialog.style.backgroundColor = 'white';\n  modalDialog.style.borderRadius = '10px';\n  modalDialog.style.padding = '20px';\n  modalDialog.style.boxShadow = '0 4px 8px rgba(0,0,0,0.2)';\n  modalDialog.style.zIndex = '1051';\n  \n    // Check for specific error messages\n  if (response && typeof response === 'object' && response.message === \"The email already used\") {\n    errorMessage = \"Voice recording already saved for this account. Thank you!.\";\n    hideRetrySuggestion = true;\n  } else if (errorCode === 405) {\n    errorMessage = \"Voice recording already saved for this account. Thank you!\";\n    hideRetrySuggestion = true;\n  } else if (errorCode) {\n    errorMessage += ` (Error code: ${errorCode})`;\n  }\n  \n  modalDialog.innerHTML = `\n    <div class=\"modal-header\" style=\"border-bottom: 1px solid #dee2e6; padding-bottom: 15px; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center;\">\n      <button type=\"button\" class=\"close-modal\" style=\"background: none; border: none; font-size: 1.5rem; cursor: pointer; padding: 0; margin-right: 15px;\">&times;</button>\n      <h3 style=\"margin: 0; color: #0d6efd; flex-grow: 1;\">Notification</h3>\n    </div>\n    <div class=\"modal-body\" style=\"margin-bottom: 20px;\">\n      <p>${errorMessage}</p>\n      ${!hideRetrySuggestion ? '<p>Please try again later or contact support for assistance.</p>' : ''}\n    </div>\n    <div class=\"modal-footer\" style=\"text-align: right;\">\n      <button type=\"button\" class=\"btn-record close-modal\" style=\"background-color: #0d6efd; color: white; padding: 8px 20px; border-radius: 30px; border: none; cursor: pointer;\">Close</button>\n    </div>\n  `;\n  \n  // Add to DOM\n  document.body.appendChild(modalBackdrop);\n  document.body.appendChild(modalDialog);\n  \n  // Handle closing modal\n  const closeButtons = document.querySelectorAll('.close-modal');\n  closeButtons.forEach(button => {\n    button.addEventListener('click', function() {\n      document.body.removeChild(modalBackdrop);\n      document.body.removeChild(modalDialog);\n    });\n  });\n  \n  // Close modal when clicking on backdrop\n  modalBackdrop.addEventListener('click', function() {\n    document.body.removeChild(modalBackdrop);\n    document.body.removeChild(modalDialog);\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  // Change the selector if your \"Record My Name\" button has a different ID/class.\n  var recordButton = document.querySelector(\"#initiate-call\");\n  if (recordButton) {\n    recordButton.addEventListener(\"click\", function() {\n      // Use a delay to allow the modal to be rendered.\n      setTimeout(function() {\n        // Locate the modal container (assuming it has the class used by tingle modals)\n        var modal = document.querySelector(\".tingle-modal\");\n        if (modal) {\n          // Find and enable the call button (with class \"tingle-btn--primary\")\n          var callButton = modal.querySelector('.tingle-btn--primary');\n          if (callButton) {\n            callButton.disabled = false;\n          }\n          \n          // Hide any widget row whose text contains \"pronoun\" (case-insensitive)\n          modal.querySelectorAll('.widget-row').forEach(function(row) {\n            if (row.textContent.toLowerCase().includes(\"pronoun\")) {\n              row.style.display = \"none\";\n            }\n          });\n        }\n      }, 100); // Adjust delay (in milliseconds) as needed for your modal render timing.\n    });\n  }\n});\n</script>"
               }
            ],
            "role": "main",
            "name": "main_block",
            "style": "container",
            "showInitially": true,
            "type": "block"
         },
         {
            "name": "getinfo_data",
            "pageSize": 5,
            "onLoad": "const firstName = data[0].FIRST_NAME;\n  const lastName = data[0].LAST_NAME;\n  const email= data[0].EMAIL;\n  let phone= data[0].PHONE;\nconsole.log(phone);\n  phone = \"+1\" + phone.replaceAll(\"-\", \"\");\nconsole.log(phone);\n  window.foo(firstName, lastName, email, phone);\n//$(\"#namecoach-call-widget-phone_number\").css('display', 'none');",
            "model": "getinfo",
            "loadInitially": true,
            "type": "data",
            "parameters": {}
         }
      ],
      "name": "nameCoach",
      "style": "bootstrap5",
      "pageURL": "https://generalssb-prod.ec.wvm.edu/BannerExtensibility/customPage/page/myPortal",
      "label": "",
      "type": "page",
      "title": "WVM - Name Coach",
      "importCSS": ""
   },
   "owner": null,
   "pageRoles": [
      {
         "roleName": "ALLROLES",
         "allow": true
      }
   ]
}